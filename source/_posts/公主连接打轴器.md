---
title: 公主连接打轴器探索
date: 2021-4-26 23:48:30 
tags: [公主连接 , 技术]

---

# 已弃坑项目
<!--more-->
先随手写一些目前的情况 

>获得了执行文件  
通过LPSpy反编译获得源代码  
更改其中部分代码来实现本地匹配
已经能够在雷电模拟器国服进行使用

目前已解决不运行问题1：可能是颜色不匹配，检查启动判定的两处像素颜色。  
```c#
		private void tmStatus_Tick(object sender, EventArgs e)
		{
			isMenu = IsMatch(1232, 31, 255, 255, 255);
			isNoAccelerate = IsMatch(1222, 658, 49, 52, 74);
			isPause = IsMatch(639, 282, 255, 247, 247);
			Invalidate();
		}
```
目前已解决不运行问题2：mumu模拟器台服，能运行但是不读秒。经过研究把每个秒的颜色判定也更换了，可以读秒了。  
这里不放源码了，放为了解决问题而写的小python脚本。  
```python
from PIL import Image

for i in range (10):
    print(i)
    img=Image.open("F:/打轴器/台服截图/"+str(i)+".png")
    src_strlist = img.load()
    data = src_strlist[1114, 29]
    print(data)
```
将台服的0~9秒的截图放在一个文件夹，重命名为类似  0.png  的形式，以此类推。  
然后通过循环读取图片信息，输出每个0-9s每个秒数情况下某个坐标的RGB颜色信息。  
然后将结果复制到打轴器源码中使用。  


目前未解决的不运行的问题1：Mumu模拟器台服，没有自动点击操控，初步怀疑是mumu模拟器软件的实现与雷电不同的原因。  
经过测试确实是mumu模拟器添加了防脚本功能导致脚本无法在mumu上进行点击操作。  
加上本项目实现方式精准性不高，现已弃坑。  



# 引用

[关于如何python获取图片像素点信息](https://www.zhihu.com/question/52352499/answer/189887218)